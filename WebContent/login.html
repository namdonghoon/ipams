<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/html">
	<head>
		<meta charset="utf-8">
		<!--<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->
 
		<title> IPAMS </title>
		<meta name="description" content="">
		<meta name="author" content="">

		<!-- Use the correct meta names below for your web application
			 Ref: http://davidbcalhoun.com/2010/viewport-metatag 
			 
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">-->
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		
		<!-- Basic Styles -->
		<link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" media="screen" href="css/font-awesome.min.css">

		<!-- SmartAdmin Styles : Please note (smartadmin-production.css) was created using LESS variables -->
		<link rel="stylesheet" type="text/css" media="screen" href="css/smartadmin-production.css">
		<link rel="stylesheet" type="text/css" media="screen" href="css/smartadmin-skins.css">

        <!-- 2014_0218_스타일 추가-->
        <link rel="stylesheet" type="text/css" media="screen" href="css/style.css">

		<!-- SmartAdmin RTL Support is under construction
		<link rel="stylesheet" type="text/css" media="screen" href="css/smartadmin-rtl.css"> -->

		<!-- We recommend you use "your_style.css" to override SmartAdmin
		specific styles this will also ensure you retrain your customization
		with each SmartAdmin update.
		<link rel="stylesheet" type="text/css" media="screen" href="css/demo.css"> -->

		<!-- Demo purpose only: goes with demo.js, you can delete this css when designing your own WebApp -->
		<link rel="stylesheet" type="text/css" media="screen" href="css/demo.css">

		<!-- FAVICONS -->
		<link rel="shortcut icon" href="images/favicon/favicon.ico" type="image/x-icon">
		<link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon">

		<!-- GOOGLE FONT -->
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700">
		
		
	</head>
	<body class="smart-style-1 fixed-ribbon fixed-header fixed-navigation  desktop-detected pace-done">
		<!-- possible classes: minified, fixed-ribbon, fixed-header, fixed-width-->

		<!-- HEADER -->
		<header id="header">
			<div id="logo-group">

				<!-- PLACE YOUR LOGO HERE -->
				<span id="logo"> <img src="images/top_logo.png" alt="IPAMS"></span>
				<!-- END LOGO PLACEHOLDER -->

				<!-- Note: The activity badge color changes when clicked and resets the number to 0
				Suggestion: You may want to set a flag when this happens to tick off all checked messages / notifications -->


				<!-- AJAX-DROPDOWN : control this dropdown height, look and feel from the LESS variable file -->

				<!-- END AJAX-DROPDOWN -->
			</div>



		</header>
		<!-- END HEADER -->









		<!-- MAIN PANEL -->
        <div class="container bg_pattern">
            <div class="row">
                <div class="bg_logo_img"></div>
                <div class="login_box">
                    <p><img class="mt30" src="images/company_ci.png" alt="세계속의 경기도"></p>
                    <div class="box_r5 black_a80 text-center"><span>아이디가 없으시면 신규 사용자 등록해 주세요.</span></div>
                    <div class="box_r5 black_a80 text-center mt10 mb10">
                        <form id="formLogin" name="formLogin" class="mr30 ml30">
                            <table class=" mb20" style="width: 100%;">
                                <colgroup>
                                    <col style="width: 60px;">
                                    <col>
                                    <col style="width: 90px;">
                                </colgroup>
                                <tbody>
                                <tr>
                                    <td>아이디</td>
                                    <td><input name="j_username" type="text" class="form-control form-control-r5" style="height: 40px;"></td>
                                    <td rowspan="2" >
                                        <a href="#" class="btn-login">
                                        <img src="images/login_button.png" onmouseover="this.src='images/login_button_ov.png'" onmouseout="this.src='images/login_button.png'" alt="로그인"></a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>비밀번호</td>
                                    <td><input name="j_password" type="text" class="form-control form-control-r5" maxlength="10"  style="height: 40px;"></td>
                                </tr>
                                </tbody>
                            </table>
                            <hr class="hr_black p0 m0">
                            <hr class="hr_bgray p0 m0">
                        </form>
                        <div class="join mt30 mb10">
                            <button type="button" data-toggle="modal" data-target="#user_register" class="btn btn-default btn_blue"><i class="glyphicon glyphicon-user"></i>신규 사용자 등록</button>

                            <button type="button" data-toggle="modal" data-target="#find_password" class="btn btn-default"><i class="glyphicon glyphicon-search"></i>비밀번호 찾기</button>
                        </div>
                    </div>
                </div>
            </div>


            <button type="button" data-toggle="modal" data-target="#passwordChangeModal" class="btn btn-default btn_blue"><i class="glyphicon glyphicon-user"></i>비밀번호 변경</button>

        </div>
		<!-- END MAIN PANEL -->
        <!-- footer -->
        <nav class="navbar navbar-default navbar-fixed-bottom" role="navigation">
            <footer class="footer">
                <div class="footer_box">
                    <p class="pull-left"><img src="images/footer_logo.png" alt="IPAMS"></p>
                    <p class="copyright pull-left">Copyright © 2012 IPAMS. All rights reserved.</p>
                </div>
            </footer>
        </nav>
        <!-- end footer -->
        
        
        
		        
		        
		<!-- modal start -->
		
		<!-- 비밀번호 찾기 -->
		<div class="modal fade" id="find_password" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">비밀번호 찾기</h4>
					</div>
					<div class="modal-body">
		
					<form action='/gg/system/applicant/findpassword' method="post" name="findPasswordForm" id="findPasswordForm" id="find_password_form" class="smart-form client-form">
					<div class="alert alert-info fade in">
						<button class="close" data-dismiss="alert">×</button><i class="fa-fw fa fa-info"></i>
						비밀번호 찾기 절차를 완료하시면 등록한 이메일(ID)로 임시 비밀번호가 발급됩니다.
					</div>
					<fieldset>
						<div class="row">
							<section class="col col-6">
								<label class="input"> 
									<i class="icon-prepend fa fa-user"></i>
									<input type="text" name="findusername" placeholder="이름"/>
									<b class="tooltip tooltip-bottom-right">사용자 이름</b> 
								</label>
							</section>
							<section class="col col-6">
								<label class="input"> 
									<i class="icon-prepend fa fa-envelope"></i>
									<input type="email" name="finduseremail" placeholder="이메일"/>
									<b class="tooltip tooltip-bottom-right">등록한 이메일(ID)</b> 
								</label>
							</section>
						</div>
					</fieldset>
					</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
						<button type="button" class="btn btn-primary findPassword" ><i class="fa fa-check"></i> 완료</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<!-- 비밀번호 찾기 (end)-->
		
		<!-- 비밀번호 변경 modal -->
		<div class="modal fade" id="passwordChangeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">비밀번호 변경</h4>
					</div>
					<div class="modal-body">
		    		
		    		<form id="passwordUpdateForm" name="passwordUpdateForm" action="/gg/system/applicant/passwordUpdate" method="post" class="smart-form client-form">
							<input type="hidden" name="_method" value="put"/>
							<fieldset>
								<div class="row">
									<section class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
										<label class="input"> 
											<i class="icon-prepend fa fa-envelope"></i>
											<input type="email" id="useremail" name="useremail" class="disabled" placeholder="이메일">
											<b class="tooltip tooltip-bottom-right">현재 이메일</b> 
										</label>
									</section>
								</div>
								<div class="row">
									<section class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
										<label class="input"> 
											<i class="icon-prepend fa fa-lock"></i>
											<input type="password" id="activatedPassword" name="activatedPassword" placeholder="현재 비밀번호 입력">
											<b class="tooltip tooltip-bottom-right">현재 비밀번호 입력</b> 
										</label>
									</section>
								</div>
								<div class="row">
									<section class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
										<label class="input"> 
											<i class="icon-prepend fa fa-lock"></i>
											<input type="password" id="changePassword" name="changePassword" placeholder="변경 비밀번호 입력">
											<b class="tooltip tooltip-bottom-right">비밀번호 작성 규칙 :<br>영문/숫자/특수문자 중 3가지 조합 8자리 이상</b> 
										</label>
									</section>
								</div>
								<div class="row">
									<section class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
										<label class="input"> 
											<i class="icon-prepend fa fa-lock"></i>
											<input type="password" name="confirmPassword" placeholder="변경 비밀번호 확인">
											<b class="tooltip tooltip-bottom-right">변경 비밀번호 확인</b> 
										</label>
									</section>
								</div>
							</fieldset>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
						<button type="button" class="btn btn-primary passwordUpdate" ><i class="fa fa-check"></i> 등록</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<!-- 비밀번호 변경 (end)-->
		
		
		<!-- 신규 사용자 신청 modal -->
		<div class="modal fade" id="user_register" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">사용자 등록</h4>
					</div>
					<div class="modal-body">
						<form action='/gg/system/applicant/register' method="post" id="user_register_form" name="user_register_form" class="smart-form client-form">
							<div class="alert alert-info fade in">
								<button class="close" data-dismiss="alert">×</button><i class="fa-fw fa fa-info"></i>
								사용자 계정 정보를 입력합니다.
							</div>
							<fieldset>
								<div class="row">
									<section class="col col-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-envelope"></i>
											<input type="email" id="email" name="email" placeholder="이메일"/>
											<b class="tooltip tooltip-bottom-right">ID로 사용할 이메일</b> 
										</label>
									</section>
									<section class="col col-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-user"></i>
											<input type="text" name="name" id="name" placeholder="이름"/>
											<b class="tooltip tooltip-bottom-right">사용자 이름</b> 
										</label>
									</section>
								</div>
								<div class="row">
									<section class="col col-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-lock"></i>
											<input type="password" name="password" placeholder="비밀번호" id="password"/>
											<b class="tooltip tooltip-bottom-right">비밀번호 작성 규칙 :<br>영문/숫자/특수문자 중 3가지 조합 8자리 이상</b>
										</label>
									</section>
									<section class="col col-6">
										<label class="input"> 
											<i class="icon-prepend fa fa-lock"></i>
											<input type="password" name="repassword" id="repassword" placeholder="비밀번호 확인"/>
											<b class="tooltip tooltip-bottom-right">비밀번호 확인</b> 
										</label>
									</section>
								</div>
							</fieldset>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
						<button type="button" class="btn btn-primary register" ><i class="fa fa-check"></i> 등록</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog --> 
		</div><!-- /.modal -->
		<!-- 신규 사용자 신청 (end)-->
		
		<!-- modal end -->
        
        
        
        
        
        

        <!-- SHORTCUT AREA : With large tiles (activated via clicking user name tag)
        Note: These tiles are completely responsive,
        you can add as many as you like
        -->
		<div id="shortcut">
			<ul>
                <li>
                    <a href="#" class="jarvismetro-tile small-cubes bg-color-blueDark"> <span class="iconbox"> <i class="fa fa-home fa-4x"></i> <span>홈으로가기 </span> </span> </a>
                </li>
				<li>
					<a href="#" class="jarvismetro-tile small-cubes bg-color-blue"> <span class="iconbox"> <i class="fa fa-file-text fa-4x"></i> <span>평가수행관리 </span> </span> </a>
				</li>
				<li>
					<a href="#" class="jarvismetro-tile small-cubes bg-color-orangeDark"> <span class="iconbox"> <i class="fa fa-user fa-4x"></i> <span>인사정보관리</span> </span> </a>
				</li>
				<li>
					<a href="#" class="jarvismetro-tile small-cubes bg-color-purple"> <span class="iconbox"> <i class="fa fa-tasks fa-4x"></i> <span>사업관리</span> </span> </a>
				</li>
				<li>
					<a href="#" class="jarvismetro-tile small-cubes bg-color-blueDark"> <span class="iconbox"> <i class="fa  fa-keyboard-o fa-4x"></i> <span>전산자산관리</span> </span> </a>
				</li>
				<li>
					<a href="#" class="jarvismetro-tile small-cubes bg-color-greenLight"> <span class="iconbox"> <i class="fa fa-clipboard fa-4x"></i> <span>문서관리 </span> </span> </a>
				</li>
                <li>
                    <a href="#" class="jarvismetro-tile small-cubes bg-color-pinkDark"> <span class="iconbox"> <i class="fa fa-book fa-4x"></i> <span>교육훈련관리 </span> </span> </a>
                </li>
                <li>
                    <a href="#" class="jarvismetro-tile small-cubes bg-color-blueDark"> <span class="iconbox"> <i class="fa fa-list-alt fa-4x"></i> <span>정보제공</span> </span> </a>
                </li>
                <li>
                    <a href="#" class="jarvismetro-tile small-cubes bg-color-greenLight selected"> <span class="iconbox"> <i class="fa fa-cogs fa-4x"></i> <span>시스템관리 </span> </span> </a>
                </li>
                <li>
                    <a href="#" class="jarvismetro-tile small-cubes bg-color-pinkDark"> <span class="iconbox"> <i class="fa fa-desktop fa-4x"></i> <span>모니터링 </span> </span> </a>
                </li>
			</ul>
		</div>

		<!-- END SHORTCUT AREA -->
        <!-- Modal -->

        <!-- end Modal -->
		<!--================================================== -->





		<!-- PACE LOADER - turn this on if you want ajax loading to show (caution: uses lots of memory on iDevices)-->
		<script data-pace-options='{ "restartOnRequestAfter": true }' src="js/plugin/pace/pace.min.js"></script>

		<!-- Link to Google CDN's jQuery + jQueryUI; fall back to local -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
		<script>
			if (!window.jQuery) {
				document.write('<script src="js/libs/jquery-2.0.2.min.js"><\/script>');
			}
		</script>

		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
		<script>
			if (!window.jQuery.ui) {
				document.write('<script src="js/libs/jquery-ui-1.10.3.min.js"><\/script>');
			}
		</script>

		<!-- JS TOUCH : include this plugin for mobile drag / drop touch events
		<script src="js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script> -->

		<!-- BOOTSTRAP JS -->
		<script src="js/bootstrap/bootstrap.min.js"></script>

		<!-- CUSTOM NOTIFICATION -->
		<script src="js/notification/SmartNotification.min.js"></script>

		<!-- JARVIS WIDGETS -->
		<script src="js/smartwidgets/jarvis.widget.min.js"></script>

		<!-- EASY PIE CHARTS -->
		<script src="js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>

		<!-- SPARKLINES -->
		<script src="js/plugin/sparkline/jquery.sparkline.min.js"></script>

		<!-- JQUERY VALIDATE -->
		<script src="js/plugin/jquery-validate/jquery.validate.min.js"></script>

		<!-- JQUERY MASKED INPUT -->
		<script src="js/plugin/masked-input/jquery.maskedinput.min.js"></script>

		<!-- JQUERY SELECT2 INPUT -->
		<script src="js/plugin/select2/select2.min.js"></script>

		<!-- JQUERY UI + Bootstrap Slider -->
		<script src="js/plugin/bootstrap-slider/bootstrap-slider.min.js"></script>

		<!-- browser msie issue fix -->
		<script src="js/plugin/msie-fix/jquery.mb.browser.min.js"></script>

		<!-- SmartClick: For mobile devices -->
		<script src="js/plugin/smartclick/smartclick.js"></script>

		<!--[if IE 7]>

		<h1>IPAMS는 익스플로러8 이상에서 작동합니다. 브라우저를 업데이트 해주세요. www.microsoft.com/download</h1>

		<![endif]-->

		<!-- Demo purpose only -->
		<script src="js/demo.js"></script>

		<!-- MAIN APP JS FILE -->
		<script src="js/app.js"></script>
		
		<!-- PAGE RELATED PLUGIN(S) -->

        <!-- Vector Maps Plugin: Vectormap engine, Vectormap language -->
        <script src="js/plugin/vectormap/jquery-jvectormap-1.2.2.min.js"></script>
        <script src="js/plugin/vectormap/jquery-jvectormap-world-mill-en.js"></script>
		
		<!-- Flot Chart Plugin: Flot Engine, Flot Resizer, Flot Tooltip -->
		<script src="js/plugin/flot/jquery.flot.cust.js"></script>
		<script src="js/plugin/flot/jquery.flot.resize.js"></script>
		<script src="js/plugin/flot/jquery.flot.tooltip.js"></script>



		<!-- script -->
		<script type="text/javascript">
			var process = function(){
				var loginForm = $('#formLogin'),
				username = $('input[name=j_username]'),
				password = $('input[name=j_password]');
			                
				return {
					load: function(){
						username.focus();
			                            
						username.keypress(function(event){
							capsLock(event);
						});
			                            
						password.keypress(function(event) {
							var keyCode = event.which?event.which:event.keyCode;
							if ( keyCode === 13 ) {
								$('#formLogin').submit();
								event.preventDefault();
								return false;
							} else {
								capsLock(event);
							}
						});
					},
				
					login: function(){
						if($.trim(username.val()) === '') {
							alert('아이디를 입력하세요.');
							username.focus();
							return false;
						} else if($.trim(password.val()) === '') {
							alert('비밀번호를 입력하세요.');
							password.focus();
							return false;
						}
			                                
						loginForm.submit();
					}
				};
			}();
			</script>              
		
		
		
		
		<script type="text/javascript">
		
		$(function() {
			
			/********************[검증]**************************************************/
			// Validation 비밀번호 찾기
			var $findPasswordForm = $("#findPasswordForm").validate({
				// Rules for form validation
				rules : {
					//findusername : { 
					//	required : true,	
					//	minlength : 2, 
					//	maxlength : 20 
					//},
					finduseremail : { 
						required : true, 
						email : true, 
						maxlength : 50,
						emailCheck : true
					}
				},
		
				// Messages for form validation
				messages : {
					//findusername : { 
					//	required : '사용자 이름을 입력하세요.' 
					//},
					finduseremail : { 
						required : '이메일 정보를 입력하세요.', 
						email : '이메일 형식이 아닙니다.', 
						maxlength : '50자 이하로 입력하세요.',
						emailCheck : '등록된 사용자가 아닙니다.'
					}
				},
		
				// Ajax form submition
				submitHandler : function(form) {
					var modal = $('#findPasswordForm');
					$(form).ajaxSubmit({
						beforeSend: function() {
							modal.mask('메일을 발송중입니다.');
						},
						success : function(data) {
							if(data) {
								alert('임시 비밀번호가 메일로 전송되었습니다.');
								location.href='/gg/login';
							} else {
								alert('이름이나 메일주소가 올바르지 않습니다.');
								$('#findusername').focus();
							}
						},
						error: function(err){
							alert("비밀번호 찾기에 실패했습니다. 관리자에게 문의하세요.");
						},
						complete: function() {
							modal.unmask();
						}
					});
				},
		
				// Do not change code below
				errorPlacement : function(error, element) {
					error.insertAfter(element.parent());
				}
			});
			
			$.validator.addMethod(
				"regex",
				function(value, element, regexp) {
					var re = new RegExp(regexp);
					//console.log(re.test(value))
					return this.optional(element) || re.test(value);
				},
				"형식이 올바르지 않습니다."
			);
			
			// Validation 비밀번호 변경
			var $passwordUpdateForm = $("#passwordUpdateForm").validate({
				// Rules for form validation
				rules : {
					useremail : { 
						required : true, 
						email : true, 
						maxlength : 50,
						emailCheck : true
					},
					activatedPassword : { 
						required : true, 
						minlength : 8, 
						maxlength : 20, 
						remote : {
							url : '/gg/system/applicant/registerCheck',
							type : "GET",
							dataType : "json",
							data : {
								useremail : function(){
									return $("#useremail").val();
								},
								activatedPassword : function(){
									return $("#activatedPassword").val();
								}
							}
						}
					},
					changePassword : { 
						required : true, 
						minlength : 8, 
						maxlength : 20, 
						regex : /((?=.*\d)(?=.*[a-zA-Z])(?=.*[\W_]).{8,20})/ 
					},
					confirmPassword : {	
						required : true, 
						equalTo : '#changePassword' 
					}
				},
				// Messages for form validation
				messages : {
					useremail : { 
						required : '이메일 정보를 입력하세요.', 
						email : '이메일 형식이 아닙니다.', 
						maxlength : '50자 이하로 입력하세요.', 
						emailCheck : '등록된 사용자가 아닙니다.'
					},
					activatedPassword : { 
						required : '현재 비밀번호를 입력하세요.', 
						minlength : '8자리 이상 입력하세요', 
						maxlength : '20자리 이하로 입력하세요',
						remote : '입력한 비밀번호가 틀렸습니다.'
					},
					changePassword : {
						required : '변경할 비밀번호를 입력하세요.',
						minlength : '8자리 이상 입력하세요',
						maxlength : '20자리 이하로 입력하세요',
						regex : '비밀번호 형식에 적합하지 않습니다.'
					},
					confirmPassword : {
						required : '변경할 비밀번호를 한번 더 입력하세요.',
						equalTo : '입력한 비밀번호가 다릅니다.'
					}
				},
		
				// Ajax form submition
				submitHandler : function(form) {
					var body = $('#passwordChangeModal');
					$(form).ajaxSubmit({
						beforeSubmit: function() { 
							body.mask('비밀번호를 변경 중입니다.');                  
						},
						success : function(data) {
							$('input[name=j_username]').val(data.form.useremail);
							$('input[name=j_password]').val(data.form.changePassword);
							$('#formLogin').submit();
						},
						error: function(err){
							alert("비밀번호 변경에 실패했습니다. 관리자에게 문의하세요.");
						}
					});
				},
		
				// Do not change code below
				errorPlacement : function(error, element) {
					error.insertAfter(element.parent());
				}
			});	
		 
			// Validation 신규 사용자 등록
			var $user_register_form = $("#user_register_form").validate({
				// Rules for form validation
				rules : {
					email : {
						required : true,
						email : true,
						registCheck : true,
						userApplicantCheck : true
					},
					name : {
						required : true,
						minlength : 2,
						maxlength : 20
					},
					password : {
						required : true,
						minlength : 8,
						maxlength : 20,
						// 영문 숫자 특수문자 조합 8-20
						regex : /((?=.*\d)(?=.*[a-zA-Z])(?=.*[\W_]).{8,20})/
					},
					repassword : {
						required : true,
						equalTo : '#password'
					}
				},
				// Messages for form validation
				messages : {
					email : {
						required : '이메일 정보를 입력하세요.',
						email : '이메일 형식이 아닙니다.',
						registCheck : '이미 사용자로 등록된 이메일입니다.',
						userApplicantCheck : '이미 계정을 신청한 메일주소입니다.'
					},
					name : {
						required : '사용자 이름을 입력하세요.',
						minlength : '2자리 이상 입력하세요',
						maxlength : '20자리 이하로 입력하세요'
					},
					password : {
						required : '비밀번호를 입력하세요.',
						minlength : '8자리 이상 입력하세요',
						maxlength : '20자리 이하로 입력하세요',
						regex : '비밀번호 패턴에 적합하지 않습니다.'
					},
					repassword : {
						required : '비밀번호를 한번 더 입력하세요.',
						equalTo : '입력한 비밀번호가 다릅니다.'
					}
				},
		
				// Ajax form submition
				submitHandler : function(form) {
					auth = $('#user_register');
					$(form).ajaxSubmit({
						beforeSend: function() {
							auth.mask('메일을 발송중입니다.');
						},				
						success : function(data) {
							alert(data.msg);
							location.href='/gg/login';
						},
						error: function(err){
							alert("신규 사용자 신청이 실패했습니다. 관리자에게 문의하세요.");
						},
						complete: function() {
							auth.unmask();
						}				
					});
				},
		
				// Do not change code below
				errorPlacement : function(error, element) {
					error.insertAfter(element.parent());
				}
			});
			
			/********************[로그인]**************************************************/
			process.load();
		    
			$('.btn-login').click(function() {
				process.login();
			});
			$('.findPassword').click(function(){
				$("#findPasswordForm").submit();
			});
			$('.passwordUpdate').click(function(){
				$("#passwordUpdateForm").submit();
			});
			
			$('.register').click(function(){
				var url = '/gg/system/applicant/find';
				// ajax - employeeId
				var empId, empName;
				$.ajax({
					cache:false,
					async:false,
					type: "GET",
					data: "email=" + $("#email").val(),
					url: url,
					success: function(data) {
						empId = data.employeeId;
						empName = data.name;
					}
				});		
				
				// confirm - submit
				//$("#user_register_form").submit();
				if(empName != null && empName != ''){
					if($.trim($("#name").val()) != $.trim(empName)) {
						if(confirm('입력한 이름과 인사정보의 이름이 다릅니다.\n인사정보의 이름으로 등록하시겠습니까?')){
							$('#user_register_form').append($('<input />').attr('type', 'hidden').attr('name', 'employeeId').attr('value', empId));
							$("#user_register_form").submit();
						}
					}
				} else {
					$("#user_register_form").submit();
		    }
			});
			
			jQuery.validator.addMethod('userApplicantCheck', function(email) {
				var url = '/gg/system/applicant/find';
				$.ajax({
					cache:false,
					async:false,
					type: "GET",
					data: "email=" + email,
					url: url,
					success: function(data) {
						result = !data.result;
						if(!data.result){
							if(data.name != null && data.name != '') $("#name").val(data.name);
						}
					}
				});
				return result;
			}, '');
			
			jQuery.validator.addMethod('emailCheck', function(useremail) {
				return userCheck(useremail);
			}, '');
			
			jQuery.validator.addMethod('registCheck', function(useremail) {
				return !userCheck(useremail);
			}, '');
			
		});
		function userCheck(useremail){
			var url = '/gg/system/applicant/use';
			$.ajax({
				cache:false,
				async:false,
				type: "GET",
				data: "email=" + useremail,
				url: url,
				success: function(data) {
					result = (data.id != null) ? true : false;
				}
			});
			return result;
		}
		
		</script>





	</body>

</html>